<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>libc welcome example</title>
  <script src="../dist/libc.js"></script>
</head>
<body>
  <div id="app"></div>

  <script>
    let initialState = {
      name: ''
    };

    let update = (state, message) => {
      if (message.type == 'WELCOME')
        return Object.assign({}, state, { name: message.name });

      return state;
    };

    let view = (state, children, dispatch) => {
      return ['div', [
        ['div', [
          ['input', { id: 'name', type: 'text' }],
          ['button', { click: () => dispatch({ type: 'WELCOME', name: document.querySelector('#name').value }) }, 'welcome']
        ]],
        ['div', { style: `visibility: ${ state.name.length ? 'visible' : 'hidden' };` }, `Hello, ${ state.name }!`]
      ]];
    };

    let app = createComponent(view, update).init(initialState);

    app.mount(document.querySelector('#app'));
  </script>
</body>
</html>
