<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>libc welcome example</title>
  <script src="../dist/libc.js"></script>
</head>
<body>
  <div id="app"></div>

  <script>
    dispatch({ db: { name: '' } });

    registerEvent('welcome', (state, message) => ({ db: { name: message } }));

    let App = ({ name = '' }) => {
      return c('div', [
        c('div', [
          c('input', { id: 'name', type: 'text', input: evt => dispatch({ welcome: evt.target.value }) }),
        ]),
        c('div', { style: `visibility: ${ name.trim().length ? 'visible' : 'hidden' };` }, `Hello, ${ name }!`)
      ]);
    };

    connectToStore(App).mount(document.querySelector('#app'));
  </script>
</body>
</html>
